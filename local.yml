---
- hosts: localhost
  become: true
  tasks:

  - name: Ansible create multiple directories with_items    
    file:
     path: ~/{{item}}
     state: directory    
     with_items:
      - 'Gitthings'      
      - 'Mything'      

  - name: Prova
    community.general.pacman: 
     name: 
      - htop
      - sxiv
      - kitty
      - awesome
      - ranger
      - neovim
      - obsidian
      - zathura 
      - poppler
      - zathura-pdf-poppler
      - texlab
      - texlive-most
      - flatpak
      - rofi
      - tree-sitter
      - alsa-utils
      - fzf
      - yarn
      - ripgrep
      - flameshot
      - starship
      - highlight
      - sddm
      - python-pillow
      - git 
      - base-devel
      - qmk 
      - zsh-syntax-highlighting
      - arandr
      - lxappearance
      - pulsemixer
      - network-manager-applet
      - stow
      - xarchiver
      - firefox
      - nautilus
      - bitwarden
      - pandoc
     state: present

  # - name: copy wallpaper file
  #   copy:
  #     src: files/wallpaper.png
  #     dest: /usr/share/backgrounds/ansible-wallpaper.png
  #     owner: root
  #     group: root
  #
  # - name: set wallpaper
  #   become_user: jay
  #   dconf:
  #     key: "/org/gnome/desktop/background/picture-uri"
  #     value: "'file:///usr/share/backgrounds/ansible-wallpaper.png'"
  #
  # - name: set wallpaper position
  #   become_user: jay
  #   dconf:
  #     key: "/org/gnome/desktop/background/picture-options"
  #     value: "'zoom'"
  #
  # - name: copy .bashrc file
  #   copy:
  #    src: files/bashrc
  #    dest: /home/jay/.bashrc
  #    owner: jay
  #    group: jay
  #
  # - name: add ansible user
  #   user:
  #     name: velociraptor
  #     system: yes
  #
  # - name: set up sudo for ansible user
  #   copy:
  #     src: files/sudoer_velociraptor
  #     dest: /etc/sudoers.d/velociraptor
  #     owner: root
  #     group: root
  #     mode: 0440
  #
  # - name: add ansible-pull cron job
  #   cron:
  #     name: ansible auto-provision
  #     user: velociraptor
  #     minute: "*/10"
  #     job: ansible-pull -o -U https://github.com/jlacroix82/ansible_pull_tutorial.git


# - hosts: localhost
#   tasks:
#     - name: test
#       file: path=/tmp/{{item.0}}/{{item.1}} state=directory
#       with_nested:
#         - ['test1', 'test2']
#         - ['bin', 'conf']


# - name: Make sure the sites-available, sites-enabled and conf.d directories exist
#   file:
#     path: "{{nginx_dir}}/{{item}}"
#     owner: root
#     group: root
#     mode: 0755
#     recurse: yes
#     state: directory
#   with_items: ["sites-available", "sites-enabled", "conf.d"]



 
